<!DOCTYPE html>
<html>
<head>
  <title>Load Yesterday's Data with Promise</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

  <h2>Load Yesterday's Data (Promise + AJAX)</h2>
  <button id="loadBtn">Load Yesterday's Data</button>
  <div id="result"></div>

  <script>
    // Function that returns a Promise for loading data
    function loadYesterdayData() {
      return new Promise(function(resolve, reject) {
        $.get("yesterday-data.txt")
          .done(function(data) {
            resolve(data); // success
          })
          .fail(function(error) {
            reject("Failed to load data: " + error.statusText); // failure
          });
      });
    }

    // Use the Promise when the button is clicked
    $(document).ready(function () {
      $("#loadBtn").click(function () {
        $("#result").html("Loading...");

        loadYesterdayData()
          .then(function(data) {
            $("#result").html("<strong>Data Loaded:</strong><br>" + data);
          })
          .catch(function(error) {
            $("#result").html("<span style='color:red;'>" + error + "</span>");
          });
      });
    });
  </script>

</body>
</html>
